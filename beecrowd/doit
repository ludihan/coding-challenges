#!/bin/bash

read -p "PROBLEM / DIR: " DIR

if [ ! -d "$DIR" ]; then
    echo "$DIR does not exist."
    exit 0
fi

read -p "LANG: " LANG


if [ $LANG = "c" ] ; then
    gcc $DIR/main.c -o main -std=c99 -O2 -lm -Werror -Wall -Wextra -Wpedantic
fi

if [ $LANG = "go" ] ; then
    go run $DIR/main.go
fi

if [ $LANG = "rust" ] ; then
    rustc $DIR/main.rs
fi

if [ "$?" -eq "0" ] ; then
    echo DONE COMPILING &&
    ./main
fi
